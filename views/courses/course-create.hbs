<h1>Create Course</h1>

<form action='/courses' method='post'>
  <input type='text' name='title' placeholder='Title' />
  <input type='text' name='description' placeholder='Description' />
  <input type='text' name='instructor' placeholder='Instructor' />
  <input type='number' name='rating' placeholder='Rating' />

  <h2>Lessons</h2>

  <input type='text' name='lesson_title' placeholder='Lesson Title' />
  <input type='text' name='lesson_body' placeholder='Lesson Body' />

  <button type='button' class='add-lesson' onclick='addLesson()'>Add Lesson</button>

  <input type='submit' value='Create Course' />
</form>

<script>
  const addLessonButton = document.querySelector(".add-lesson");
  addLessonButton.addEventListener("click", () => { const lessonTitleInput =
  document.querySelector("input[name=lesson_title]"); const lessonBodyInput =
  document.querySelector("input[name=lesson_body]"); const lesson = {
  lesson_title: lessonTitleInput.value, lesson_body: lessonBodyInput.value, };
  const lessons = Array.from(document.querySelectorAll(".lesson"));
  lessons.push(lesson); lessons.forEach((lesson) => { const lessonDiv =
  document.createElement("div"); lessonDiv.classList.add("lesson"); const
  lessonTitle = document.createElement("h3"); lessonTitle.innerText =
  lesson.lesson_title; const lessonBody = document.createElement("p");
  lessonBody.innerText = lesson.lesson_body; lessonDiv.appendChild(lessonTitle);
  lessonDiv.appendChild(lessonBody);
  document.querySelector(".lessons").appendChild(lessonDiv); });
  lessonTitleInput.value = ""; lessonBodyInput.value = ""; });
</script>

{{! <form action='/courses' method='POST'>
  <div>
    <label for='title'>Title:</label>
    <input type='text' id='title' name='title' required />
  </div>
  <div>
    <label for='description'>Description:</label>
    <textarea id='description' name='description' required></textarea>
  </div>
  <div>
    <label for='instructor'>Instructor:</label>
    <input type='text' id='instructor' name='instructor' required />
  </div>
  <div>
    <label for='rating'>Rating:</label>
    <input type='number' id='rating' name='rating' min='1' max='5' required />
  </div>
  <div>
    <label for='lessons'>Lessons:</label>
    <button id='add-lesson' type='button'>Add Lesson</button>
    <div id='lessons-container'>
      <div class='lesson'>
        <label for='lesson-number-0'>Lesson Number:</label>
        <input
          type='number'
          id='lesson-number-0'
          name='lessons[0][lesson_number]'
          required
        />
        <label for='lesson-title-0'>Lesson Title:</label>
        <input
          type='text'
          id='lesson-title-0'
          name='lessons[0][lesson_title]'
          required
        />
        <label for='lesson-body-0'>Lesson Body:</label>
        <textarea
          id='lesson-body-0'
          name='lessons[0][lesson_body]'
          required
        ></textarea>
      </div>
    </div>
  </div>
  <button type='submit'>Create Course</button>
</form>

<script>
  document.getElementById('add-lesson').addEventListener('click', function() {
  const lessonsContainer = document.getElementById('lessons-container'); const
  lessonIndex = lessonsContainer.children.length; const lessonDiv =
  document.createElement('div'); lessonDiv.classList.add('lesson');
  lessonDiv.innerHTML = ` <label for="lesson-number-${lessonIndex}">Lesson
  Number:</label> <input type="number" id="lesson-number-${lessonIndex}"
  name="lessons[${lessonIndex}][lesson_number]" required> <label
  for="lesson-title-${lessonIndex}">Lesson Title:</label> <input type="text"
  id="lesson-title-${lessonIndex}" name="lessons[${lessonIndex}][lesson_title]"
  required> <label for="lesson-body-${lessonIndex}">Lesson Body:</label>
  <textarea id="lesson-body-${lessonIndex}"
  name="lessons[${lessonIndex}][lesson_body]" required></textarea> `;
  lessonsContainer.appendChild(lessonDiv); });
</script> }}